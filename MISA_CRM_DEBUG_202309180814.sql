--
-- Script was generated by Devart dbForge Studio 2022 for MySQL, Version 9.1.21.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 9/18/2023 8:14:03 AM
-- Server version: 8.0.34
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE `MISA.CRM.DEBUG`;

--
-- Drop procedure `Proc_GetCustomerByFilter`
--
DROP PROCEDURE IF EXISTS Proc_GetCustomerByFilter;

--
-- Drop table `EmployeeFamily`
--
DROP TABLE IF EXISTS EmployeeFamily;

--
-- Drop table `Relation`
--
DROP TABLE IF EXISTS Relation;

--
-- Drop procedure `Proc_GetEmployees`
--
DROP PROCEDURE IF EXISTS Proc_GetEmployees;

--
-- Drop view `View_Employee`
--
DROP VIEW IF EXISTS View_Employee CASCADE;

--
-- Drop procedure `Proc_GetEmployeeByCode`
--
DROP PROCEDURE IF EXISTS Proc_GetEmployeeByCode;

--
-- Drop procedure `Proc_GetEmployeeByFilter`
--
DROP PROCEDURE IF EXISTS Proc_GetEmployeeByFilter;

--
-- Drop procedure `Proc_GetEmployeeById`
--
DROP PROCEDURE IF EXISTS Proc_GetEmployeeById;

--
-- Drop procedure `Proc_InsertEmployee`
--
DROP PROCEDURE IF EXISTS Proc_InsertEmployee;

--
-- Drop procedure `Proc_UpdateEmployee`
--
DROP PROCEDURE IF EXISTS Proc_UpdateEmployee;

--
-- Drop table `Employee`
--
DROP TABLE IF EXISTS Employee;

--
-- Drop table `Qualification`
--
DROP TABLE IF EXISTS Qualification;

--
-- Drop table `ImportColumn`
--
DROP TABLE IF EXISTS ImportColumn;

--
-- Drop table `ImportWorksheet`
--
DROP TABLE IF EXISTS ImportWorksheet;

--
-- Drop table `ImportFileTemplate`
--
DROP TABLE IF EXISTS ImportFileTemplate;

--
-- Drop table `Ethnic`
--
DROP TABLE IF EXISTS Ethnic;

--
-- Drop table `Nationality`
--
DROP TABLE IF EXISTS Nationality;

--
-- Drop table `Department`
--
DROP TABLE IF EXISTS Department;

--
-- Drop table `Position`
--
DROP TABLE IF EXISTS Position;

--
-- Drop table `Organization`
--
DROP TABLE IF EXISTS Organization;

--
-- Set default database
--
USE `MISA.CRM.DEBUG`;

--
-- Create table `Organization`
--
CREATE TABLE Organization (
  OrganizationId char(36) NOT NULL,
  OrganizationCode varchar(20) NOT NULL,
  OrganizationName varchar(255) NOT NULL,
  PhoneNumber varchar(50) DEFAULT NULL,
  Email varchar(100) DEFAULT NULL,
  Address varchar(255) DEFAULT NULL,
  ContactAddress varchar(255) DEFAULT NULL,
  ContactEmail varchar(100) DEFAULT NULL,
  ContactPhoneNumber varchar(50) DEFAULT NULL,
  ParentOrganizationID char(36) DEFAULT NULL,
  ContactName varchar(100) DEFAULT NULL,
  TenantCode varchar(250) DEFAULT NULL,
  OrganizationType int DEFAULT NULL,
  TaxNo varchar(20) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(100) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(100) DEFAULT NULL,
  PRIMARY KEY (OrganizationId)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `Position`
--
CREATE TABLE Position (
  PositionId char(36) NOT NULL,
  PositionCode varchar(20) NOT NULL DEFAULT '',
  PositionName varchar(255) DEFAULT '',
  Description varchar(255) DEFAULT NULL,
  ParentId char(36) DEFAULT NULL,
  OrganizationId char(36) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(100) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(100) DEFAULT NULL,
  PRIMARY KEY (PositionId)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Vị trí/ Chức vụ';

--
-- Create foreign key
--
ALTER TABLE Position
ADD CONSTRAINT FK_Position_OrganizationId FOREIGN KEY (OrganizationId)
REFERENCES Organization (OrganizationId);

--
-- Create table `Department`
--
CREATE TABLE Department (
  DepartmentId char(36) NOT NULL,
  DepartmentCode varchar(20) NOT NULL DEFAULT '',
  DepartmentName varchar(255) NOT NULL DEFAULT '',
  OrganizationId char(36) DEFAULT NULL,
  Description varchar(255) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(100) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(100) DEFAULT NULL,
  PRIMARY KEY (DepartmentId)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Phòng ban';

--
-- Create foreign key
--
ALTER TABLE Department
ADD CONSTRAINT FK_Department_OrganizationId FOREIGN KEY (OrganizationId)
REFERENCES Organization (OrganizationId);

--
-- Create table `Nationality`
--
CREATE TABLE Nationality (
  NationalityID int NOT NULL,
  NationalityCode varchar(20) DEFAULT NULL,
  NationalityName varchar(255) NOT NULL DEFAULT '',
  Description varchar(255) DEFAULT NULL,
  CreatedBy varchar(100) DEFAULT NULL,
  CreatedDate datetime DEFAULT CURRENT_TIMESTAMP,
  ModifiedBy varchar(100) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  PRIMARY KEY (NationalityID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 67,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Danh mục quốc tịch';

--
-- Create table `Ethnic`
--
CREATE TABLE Ethnic (
  EthnicID int NOT NULL AUTO_INCREMENT COMMENT 'PK',
  EthnicCode varchar(20) NOT NULL DEFAULT '' COMMENT 'Mã dân tộc',
  EthnicName varchar(255) NOT NULL DEFAULT '' COMMENT 'Tên dân tộc',
  ActiveDate date DEFAULT NULL COMMENT 'Ngày hiệu lực',
  ExpireDate date DEFAULT NULL COMMENT 'Ngày hết hiệu lực',
  PRIMARY KEY (EthnicID)
)
ENGINE = INNODB,
AUTO_INCREMENT = 56,
AVG_ROW_LENGTH = 297,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Danh mục dân tộc';

--
-- Create table `ImportFileTemplate`
--
CREATE TABLE ImportFileTemplate (
  ImportFileTemplateID char(36) NOT NULL COMMENT 'Khóa chính',
  ImportFileTemplateCode varchar(20) DEFAULT NULL COMMENT 'Mã tệp nhập khẩu',
  ImportFileTemplateName varchar(255) DEFAULT NULL COMMENT 'Tên tệp nhập khẩu',
  Version varchar(255) DEFAULT NULL COMMENT 'Phiên bản',
  FileFormat varchar(255) DEFAULT NULL COMMENT 'Định dạng File',
  TableImport varchar(255) DEFAULT NULL COMMENT 'Teen bảng nhập khẩu',
  ProcedureName varchar(255) DEFAULT NULL COMMENT 'Tên store thực hiện nhập khẩu',
  TotalWorksheet int NOT NULL DEFAULT 1 COMMENT 'Tổng số Worksheet',
  CreatedDate datetime DEFAULT NULL COMMENT 'Ngày tạo bản ghi',
  CreatedBy varchar(255) DEFAULT NULL COMMENT 'Người tạo',
  ModifiedDate datetime DEFAULT NULL COMMENT 'Ngày thực hiện chỉnh sửa gần nhất',
  ModifiedBy varchar(255) DEFAULT NULL COMMENT 'Người thực hiện chỉnh sửa',
  PRIMARY KEY (ImportFileTemplateID)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Bảng dữ liệu thông tin File nhập khẩu';

--
-- Create table `ImportWorksheet`
--
CREATE TABLE ImportWorksheet (
  ImportWorksheetID char(36) NOT NULL COMMENT 'Khóa chính',
  ImportWorksheetName varchar(255) DEFAULT NULL COMMENT 'Tên worksheet',
  ImportFileTemplateID char(36) DEFAULT NULL COMMENT 'Khóa ngoại bảng thông tin File nhập khẩu',
  RowHeaderPosition int NOT NULL DEFAULT 1 COMMENT 'Vị trí dòng tiêu đề',
  RowStartImport int DEFAULT NULL COMMENT 'Vị trí dòng bắt đầu nhập khẩu dữ liệu',
  RowEndImport int DEFAULT NULL COMMENT 'Vị trí dòng dừng nhập khẩu dữ liệu',
  WorksheetPosition int DEFAULT NULL COMMENT 'Vị trí của Wprksheet',
  ImportToTable varchar(255) DEFAULT NULL COMMENT 'Tên bảng sẽ Import dữ liệu vào',
  IsImport bit(1) NOT NULL DEFAULT b'1' COMMENT 'Sử dụng để nhập khẩu hay không (1-có; 0- không)',
  PRIMARY KEY (ImportWorksheetID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE ImportWorksheet
ADD CONSTRAINT FK_ImportFileTemplate_ImportWorksheet_ImportTemplateID FOREIGN KEY (ImportFileTemplateID)
REFERENCES ImportFileTemplate (ImportFileTemplateID) ON DELETE CASCADE;

--
-- Create table `ImportColumn`
--
CREATE TABLE ImportColumn (
  ImportColumnID char(36) NOT NULL,
  ColumnTitle varchar(255) DEFAULT NULL COMMENT 'Tiêu đề cột',
  ColumnDataType int DEFAULT NULL COMMENT 'Kiểu dữ liệu',
  IsRequired bit(1) NOT NULL DEFAULT b'0' COMMENT 'Là trường bắt buộc hay không (1- bắt buộc; 0- không bắt buộc)',
  ColumnPosition int DEFAULT NULL COMMENT 'Vị trí của cột',
  ImportWorksheetID char(36) DEFAULT NULL COMMENT 'Khóa ngoại với bảng ImportWorksheet',
  ObjectReferenceName varchar(255) DEFAULT NULL COMMENT 'Tên Enum/ Table tham chiếu tương ứng',
  ColumnInsert varchar(255) DEFAULT NULL COMMENT 'Tên cột dữ liệu tương ứng',
  PRIMARY KEY (ImportColumnID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 564,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Bảng dữ liệu các cột nhập khẩu';

--
-- Create foreign key
--
ALTER TABLE ImportColumn
ADD CONSTRAINT FK_ImportWorksheet_ImportColumn_WorksheetID FOREIGN KEY (ImportWorksheetID)
REFERENCES ImportWorksheet (ImportWorksheetID) ON DELETE CASCADE;

--
-- Create table `Qualification`
--
CREATE TABLE Qualification (
  QualificationId char(36) NOT NULL,
  QualificationName varchar(255) NOT NULL DEFAULT '',
  Description varchar(255) DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(100) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(100) DEFAULT NULL,
  PRIMARY KEY (QualificationId)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Trình độ chuyên môn';

--
-- Create table `Employee`
--
CREATE TABLE Employee (
  EmployeeId char(36) NOT NULL,
  EmployeeCode varchar(20) NOT NULL DEFAULT '',
  FirstName varchar(100) DEFAULT NULL,
  LastName varchar(100) DEFAULT NULL,
  FullName varchar(100) NOT NULL DEFAULT '',
  Gender int DEFAULT NULL,
  DateOfBirth date DEFAULT NULL,
  PhoneNumber varchar(50) DEFAULT NULL,
  Email varchar(100) DEFAULT NULL,
  Address varchar(255) DEFAULT NULL,
  IdentityNo varchar(25) DEFAULT NULL,
  IdentityDate date DEFAULT NULL,
  IdentityPlace varchar(255) DEFAULT NULL,
  JoinDate date DEFAULT NULL,
  MaritalStatus int DEFAULT NULL,
  EducationalBackground int DEFAULT NULL,
  QualificationId char(36) DEFAULT NULL,
  DepartmentId char(36) DEFAULT NULL,
  EthnicId int DEFAULT NULL,
  NationalityId int DEFAULT NULL,
  PositionId char(36) DEFAULT NULL,
  OrganizationId char(36) NOT NULL,
  ContractNo varchar(50) DEFAULT NULL,
  ContractType varchar(255) DEFAULT NULL,
  WorkStatus int DEFAULT NULL,
  PersonalTaxCode varchar(25) DEFAULT NULL,
  Salary double DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL,
  CreatedBy varchar(100) DEFAULT NULL,
  ModifiedDate datetime DEFAULT NULL,
  ModifiedBy varchar(100) DEFAULT NULL,
  PRIMARY KEY (EmployeeId)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Danh mục nhân viên';

--
-- Create foreign key
--
ALTER TABLE Employee
ADD CONSTRAINT FK_Employee_Department_DepartmentId FOREIGN KEY (DepartmentId)
REFERENCES Department (DepartmentId);

--
-- Create foreign key
--
ALTER TABLE Employee
ADD CONSTRAINT FK_Employee_EthnicId FOREIGN KEY (EthnicId)
REFERENCES Ethnic (EthnicID);

--
-- Create foreign key
--
ALTER TABLE Employee
ADD CONSTRAINT FK_Employee_NationalityId FOREIGN KEY (NationalityId)
REFERENCES Nationality (NationalityID);

--
-- Create foreign key
--
ALTER TABLE Employee
ADD CONSTRAINT FK_Employee_OrganizationId FOREIGN KEY (OrganizationId)
REFERENCES Organization (OrganizationId);

--
-- Create foreign key
--
ALTER TABLE Employee
ADD CONSTRAINT FK_Employee_Qualification_QualificationId FOREIGN KEY (QualificationId)
REFERENCES Qualification (QualificationId);

DELIMITER $$

--
-- Create procedure `Proc_UpdateEmployee`
--
CREATE
DEFINER = 'nvmanh'@'%'
PROCEDURE Proc_UpdateEmployee (IN EmployeeId char(36), IN EmployeeCode varchar(20), IN FirstName varchar(100), IN LastName varchar(100), IN FullName varchar(100), IN Gender int, IN DateOfBirth date, IN PhoneNumber varbinary(50), IN Email varchar(100), IN Address varchar(255), IN IdentityNumber varchar(25), IN IdentityDate date, IN IdentityPlace varchar(255), IN JoinDate date, IN MaritalStatus int, IN EducationalBackground int, IN QualificationId char(36), IN DepartmentId char(36), IN PositionId char(36), IN WorkStatus int, IN PersonalTaxCode varchar(20), IN Salary double)
BEGIN
  UPDATE Employee e
  SET EmployeeCode = EmployeeCode,
      FirstName = FirstName,
      e.LastName = LastName,
      e.FullName = FullName,
      e.Gender = Gender,
      e.DateOfBirth = DateOfBirth,
      e.PhoneNumber = PhoneNumber,
      e.Email = Email,
      e.Address = Address,
      e.IdentityNumber = IdentityNumber,
      e.IdentityDate = IdentityDate,
      e.IdentityPlace = IdentityPlace,
      e.JoinDate = JoinDate,
      e.MaritalStatus = MaritalStatus,
      e.EducationalBackground = EducationalBackground,
      e.QualificationId = QualificationId,
      e.DepartmentId = DepartmentId,
      e.PositionId = PositionId,
      e.WorkStatus = WorkStatus,
      e.PersonalTaxCode = PersonalTaxCode,
      e.Salary = Salary,
      e.ModifiedDate = CURRENT_TIMESTAMP()
  WHERE e.EmployeeId = EmployeeId;
END
$$

--
-- Create procedure `Proc_InsertEmployee`
--
CREATE
DEFINER = 'nvmanh'@'%'
PROCEDURE Proc_InsertEmployee (IN EmployeeId char(36), IN EmployeeCode varchar(20), IN FirstName varchar(100), IN LastName varchar(100), IN FullName varchar(100), IN Gender int, IN DateOfBirth date, IN PhoneNumber varchar(50), IN Email varchar(100), IN Address varchar(255), IN IdentityNumber varchar(25), IN IdentityDate date, IN IdentityPlace varchar(255), IN JoinDate date, IN MaritalStatus int, IN EducationalBackground int, IN QualificationId char(36), IN DepartmentId char(36), IN PositionId char(36), IN WorkStatus int, IN PersonalTaxCode varchar(20), IN Salary double)
BEGIN
  INSERT INTO Employee (EmployeeCode,
  FirstName,
  LastName,
  FullName,
  Gender,
  DateOfBirth,
  PhoneNumber,
  Email,
  Address,
  IdentityNo,
  IdentityDate,
  IdentityPlace,
  JoinDate,
  MaritalStatus,
  EducationalBackground,
  QualificationId,
  DepartmentId,
  PositionId,
  WorkStatus,
  PersonalTaxCode,
  Salary)
    VALUES (EmployeeCode, FirstName, LastName, FullName, Gender, DateOfBirth, PhoneNumber, Email, Address, IdentityNumber, IdentityDate, IdentityPlace, JoinDate, MaritalStatus, EducationalBackground, QualificationId, DepartmentId, PositionId, WorkStatus, PersonalTaxCode, Salary);
END
$$

--
-- Create procedure `Proc_GetEmployeeById`
--
CREATE
DEFINER = 'nvmanh'@'%'
PROCEDURE Proc_GetEmployeeById (IN EmployeeId char(36))
BEGIN
  SELECT
    *
  FROM Employee e
  WHERE e.EmployeeId = EmployeeId LIMIT 1;
END
$$

--
-- Create procedure `Proc_GetEmployeeByFilter`
--
CREATE
DEFINER = 'nvmanh'@'%'
PROCEDURE Proc_GetEmployeeByFilter (IN specs varchar(255), IN DepartmentId char(36), IN PositionId char(36))
BEGIN
  SELECT
    *
  FROM Employee e
  WHERE e.FullName LIKE specs
  AND e.DepartmentId = DepartmentId
  AND e.PositionId = PositionId;
END
$$

--
-- Create procedure `Proc_GetEmployeeByCode`
--
CREATE
DEFINER = 'nvmanh'@'%'
PROCEDURE Proc_GetEmployeeByCode (IN EmployeeCode varchar(20))
BEGIN
  SELECT
    *
  FROM Employee e
  WHERE e.EmployeeCode = EmployeeCode;
END
$$

DELIMITER ;

--
-- Create view `View_Employee`
--
CREATE
DEFINER = 'nvmanh'@'%'
VIEW View_Employee
AS
SELECT
  `e`.`EmployeeId` AS `EmployeeId`,
  `e`.`EmployeeCode` AS `EmployeeCode`,
  `e`.`FirstName` AS `FirstName`,
  `e`.`LastName` AS `LastName`,
  `e`.`FullName` AS `FullName`,
  `e`.`Gender` AS `Gender`,
  `e`.`DateOfBirth` AS `DateOfBirth`,
  `e`.`PhoneNumber` AS `PhoneNumber`,
  `e`.`Email` AS `Email`,
  `e`.`Address` AS `Address`,
  `e`.`IdentityNo` AS `IdentityNumber`,
  `e`.`IdentityDate` AS `IdentityDate`,
  `e`.`IdentityPlace` AS `IdentityPlace`,
  `e`.`JoinDate` AS `JoinDate`,
  `e`.`MaritalStatus` AS `MaritalStatus`,
  `e`.`PersonalTaxCode` AS `PersonalTaxCode`,
  `e`.`Salary` AS `Salary`,
  `e`.`EducationalBackground` AS `EducationalBackground`,
  `e`.`WorkStatus` AS `WorkStatus`,
  `p`.`PositionId` AS `PositionId`,
  `p`.`PositionCode` AS `PositionCode`,
  `p`.`PositionName` AS `PositionName`,
  `d`.`DepartmentId` AS `DepartmentId`,
  `d`.`DepartmentCode` AS `DepartmentCode`,
  `d`.`DepartmentName` AS `DepartmentName`,
  `q`.`QualificationId` AS `QualificationId`,
  `q`.`QualificationName` AS `QualificationName`,
  `e`.`CreatedDate` AS `CreatedDate`,
  `e`.`CreatedBy` AS `CreatedBy`,
  `e`.`ModifiedDate` AS `ModifiedDate`,
  `e`.`ModifiedBy` AS `ModifiedBy`
FROM (((`Employee` `e`
  LEFT JOIN `Position` `p`
    ON ((`e`.`PositionId` = `p`.`PositionId`)))
  LEFT JOIN `Department` `d`
    ON ((`e`.`DepartmentId` = `d`.`DepartmentId`)))
  LEFT JOIN `Qualification` `q`
    ON ((`e`.`QualificationId` = `q`.`QualificationId`)));

DELIMITER $$

--
-- Create procedure `Proc_GetEmployees`
--
CREATE
DEFINER = 'nvmanh'@'%'
PROCEDURE Proc_GetEmployees ()
BEGIN
  SELECT
    *
  FROM View_Employee;
END
$$

DELIMITER ;

--
-- Create table `Relation`
--
CREATE TABLE Relation (
  RelationID int NOT NULL AUTO_INCREMENT COMMENT 'PK',
  RelationCode varchar(20) NOT NULL DEFAULT '' COMMENT 'Mã quan hệ',
  RelationName varchar(255) NOT NULL DEFAULT '' COMMENT 'Tên quan hệ',
  Sort int DEFAULT NULL COMMENT 'STT/Sắp xếp',
  PRIMARY KEY (RelationID)
)
ENGINE = INNODB,
AUTO_INCREMENT = 24,
AVG_ROW_LENGTH = 712,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Danh mục quan hệ';

--
-- Create table `EmployeeFamily`
--
CREATE TABLE EmployeeFamily (
  EmployeeFamilyID char(36) NOT NULL COMMENT 'Khóa chính',
  EmployeeId char(36) DEFAULT NULL COMMENT 'Khóa ngoại với bảng Employee',
  FullName varchar(255) DEFAULT NULL COMMENT 'Họ và tên',
  Gender int NOT NULL DEFAULT 1 COMMENT 'Giới tính 0: Nữ, 1: Nam',
  DateOfBirth date DEFAULT NULL COMMENT 'Ngày sinh',
  CitizenIdentityNo varchar(25) DEFAULT NULL COMMENT 'Số chứng minh thư/ hộ chiếu',
  RelationID int DEFAULT NULL COMMENT 'Quan hệ với chủ hộ (1- Bố, 2 - mẹ...)',
  DOBDisplaySetting int DEFAULT 0 COMMENT 'Kiểu hiển thị ngày sinh(1- ngày/tháng/năm; 2- tháng/ngày/năm;...)',
  NationalityID int DEFAULT NULL COMMENT 'ID quốc tịch',
  EthnicID int DEFAULT NULL COMMENT 'ID dân tộc',
  BirthVillageAddress mediumtext DEFAULT NULL COMMENT 'Địa chỉ khai sinh',
  SortOrder int DEFAULT NULL,
  CreatedDate datetime DEFAULT NULL COMMENT 'Ngày tạo bản ghi',
  CreatedBy varchar(255) DEFAULT NULL COMMENT 'Người tạo',
  ModifiedDate datetime DEFAULT NULL COMMENT 'Ngày thực hiện chỉnh sửa gần nhất',
  ModifiedBy varchar(255) DEFAULT NULL COMMENT 'Người thực hiện chỉnh sửa',
  PRIMARY KEY (EmployeeFamilyID)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci,
COMMENT = 'Bảng thông tin chi tiết gia đình của Nhân viên';

--
-- Create index `IX_EmployeeFamily_FullName` on table `EmployeeFamily`
--
ALTER TABLE EmployeeFamily
ADD FULLTEXT INDEX IX_EmployeeFamily_FullName (FullName);

--
-- Create foreign key
--
ALTER TABLE EmployeeFamily
ADD CONSTRAINT FK_EmployeeFamily_Emp_EmpID FOREIGN KEY (EmployeeId)
REFERENCES Employee (EmployeeId) ON DELETE CASCADE;

--
-- Create foreign key
--
ALTER TABLE EmployeeFamily
ADD CONSTRAINT FK_EmployeeFamily_RelationID FOREIGN KEY (RelationID)
REFERENCES Relation (RelationID);

DELIMITER $$

--
-- Create procedure `Proc_GetCustomerByFilter`
--
CREATE
DEFINER = 'nvmanh'@'%'
PROCEDURE Proc_GetCustomerByFilter (IN m_CustomerId char(36), IN m_filter varchar(255))
COMMENT 'Lọc danh sách khách hàng theo phân trang'
BEGIN

END
$$

DELIMITER ;

-- 
-- Dumping data for table Organization
--
INSERT INTO Organization VALUES
('166d7560-0f85-4bef-8981-c9f3c682c947', 'MISAJSC', 'Công ty cổ phần MISA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);

-- 
-- Dumping data for table ImportFileTemplate
--
INSERT INTO ImportFileTemplate VALUES
('521763b5-b117-11ea-a51e-005056ac74f5', NULL, 'Nhập khẩu nhân viên', '01', 'xls;xlsx', 'Employee', NULL, 2, NULL, NULL, NULL, NULL);

-- 
-- Dumping data for table Qualification
--
-- Table `MISA.CRM.DEBUG`.Qualification does not contain any data (it is empty)

-- 
-- Dumping data for table Nationality
--
INSERT INTO Nationality VALUES
(1, 'VN', 'Việt Nam', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(2, 'AE', 'United Arab Emirates', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(3, 'AF', 'Afghanistan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(4, 'AG', 'Antigua And Barbuda', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(5, 'AI', 'Anguilla', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(6, 'AL', 'Albania', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(7, 'AM', 'Armenia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(8, 'AN', 'Netherlands Antilles', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(9, 'AO', 'Angola', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(10, 'AQ', 'Antarctica', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(11, 'AR', 'Argentina', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(12, 'AS', 'American Samoa', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(13, 'AT', 'Austria', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(14, 'AU', 'Australia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(15, 'AW', 'Aruba', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(16, 'AX', 'Aland Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(17, 'AZ', 'Azerbaijan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(18, 'BA', 'Bosnia And Herzegovina', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(19, 'BB', 'Barbados', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(20, 'BD', 'Bangladesh', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(21, 'BE', 'Belgium', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(22, 'BF', 'Burkina Faso', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(23, 'BG', 'Bulgaria', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(24, 'BH', 'Bahrain', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(25, 'BI', 'Burundi', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(26, 'BJ', 'Benin', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(27, 'BM', 'Bermuda', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(28, 'BN', 'Brunei Darussalam', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(29, 'BO', 'Bolivia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(30, 'BR', 'Brazil', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(31, 'BS', 'Bahamas', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(32, 'BT', 'Bhutan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(33, 'BV', 'Bouvet Island', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(34, 'BW', 'Botswana', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(35, 'BY', 'Belarus', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(36, 'BZ', 'Belize', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(37, 'CA', 'Canada', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(38, 'CC', 'Cocos (keeling) Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(39, 'CD', 'Congo, The Democratic Republic', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(40, 'CF', 'Central African Republic', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(41, 'CG', 'Congo', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(42, 'CH', 'Switzerland', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(43, 'CI', 'Cễte D''ivoire', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(44, 'CK', 'Cook Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(45, 'CL', 'Chile', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(46, 'CM', 'Cameroon', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(47, 'CN', 'China', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(48, 'CO', 'Colombia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(49, 'CR', 'Costa Rica', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(50, 'CS', 'Serbia And Montenegro', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(51, 'CU', 'Cuba', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(52, 'CV', 'Cape Verde', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(53, 'CX', 'Christmas Island', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(54, 'CY', 'Cyprus', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(55, 'CZ', 'Czech Republic', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(56, 'DE', 'Germany', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(57, 'DJ', 'Djibouti', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(58, 'DK', 'Denmark', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(59, 'DM', 'Dominica', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(60, 'DO', 'Dominican Republic', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(61, 'DZ', 'Algeria', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(62, 'EC', 'Ecuador', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(63, 'EE', 'Estonia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(64, 'EG', 'Egypt', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(65, 'EH', 'Western Sahara', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(66, 'ER', 'Eritrea', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(67, 'ES', 'Spain', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(68, 'ET', 'Ethiopia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(69, 'FI', 'Finland', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(70, 'FJ', 'Fiji', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(71, 'FK', 'Falkland Islands (malvinas)', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(72, 'FM', 'Micronesia, Federated States O', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(73, 'FO', 'Faroe Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(74, 'FR', 'France', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(75, 'GA', 'Gabon', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(76, 'GB', 'United Kingdom', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(77, 'GD', 'Grenada', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(78, 'GE', 'Georgia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(79, 'GF', 'French Guiana', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(80, 'GH', 'Ghana', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(81, 'GI', 'Gibraltar', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(82, 'GL', 'Greenland', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(83, 'GM', 'Gambia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(84, 'GN', 'Guinea', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(85, 'GP', 'Guadeloupe', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(86, 'GQ', 'Equatorial Guinea', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(87, 'GR', 'Greece', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(88, 'GS', 'South Georgia And The South Sa', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(89, 'GT', 'Guatemala', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(90, 'GU', 'Guam', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(91, 'GW', 'Guinea-bissau', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(92, 'GY', 'Guyana', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(93, 'HK', 'Hong Kong', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(94, 'HM', 'Heard Island And Mcdonald Isla', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(95, 'HN', 'Honduras', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(96, 'HR', 'Croatia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(97, 'HT', 'Haiti', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(98, 'HU', 'Hungary', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(99, 'ID', 'Indonesia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(100, 'IE', 'Ireland', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(101, 'IL', 'Israel', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(102, 'IN', 'India', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(103, 'IO', 'British Indian Ocean Territory', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(104, 'IQ', 'Iraq', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(105, 'IR', 'Iran, Islamic Republic Of', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(106, 'IS', 'Iceland', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(107, 'IT', 'Italy', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(108, 'JM', 'Jamaica', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(109, 'JO', 'Jordan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(110, 'JP', 'Japan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(111, 'KE', 'Kenya', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(112, 'KG', 'Kyrgyzstan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(113, 'KH', 'Cambodia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(114, 'KI', 'Kiribati', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(115, 'KM', 'Comoros', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(116, 'KN', 'Saint Kitts And Nevis', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(117, 'KP', 'Korea, Democratic People''s Rep', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(118, 'KR', 'Korea, Republic Of', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(119, 'KW', 'Kuwait', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(120, 'KY', 'Cayman Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(121, 'KZ', 'Kazakhstan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(122, 'LA', 'Lao People''s Democratic Republ', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(123, 'LB', 'Lebanon', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(124, 'LC', 'Saint Lucia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(125, 'LI', 'Liechtenstein', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(126, 'LK', 'Sri Lanka', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(127, 'LR', 'Liberia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(128, 'LS', 'Lesotho', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(129, 'LT', 'Lithuania', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(130, 'LU', 'Luxembourg', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(131, 'LV', 'Latvia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(132, 'LY', 'Libyan Arab Jamahiriya', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(133, 'MA', 'Morocco', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(134, 'MC', 'Monaco', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(135, 'MD', 'Moldova, Republic Of', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(136, 'MG', 'Madagascar', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(137, 'MH', 'Marshall Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(138, 'MK', 'Macedonia, The Former Yugoslav', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(139, 'ML', 'Mali', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(140, 'MM', 'Myanmar', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(141, 'MN', 'Mongolia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(142, 'MO', 'Macao', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(143, 'MP', 'Northern Mariana Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(144, 'MQ', 'Martinique', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(145, 'MR', 'Mauritania', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(146, 'MS', 'Montserrat', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(147, 'MT', 'Malta', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(148, 'MU', 'Mauritius', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(149, 'MV', 'Maldives', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(150, 'MW', 'Malawi', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(151, 'MX', 'Mexico', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(152, 'MY', 'Malaysia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(153, 'MZ', 'Mozambique', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(154, 'NA', 'Namibia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(155, 'NC', 'New Caledonia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(156, 'NE', 'Niger', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(157, 'NF', 'Norfolk Island', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(158, 'NG', 'Nigeria', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(159, 'NI', 'Nicaragua', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(160, 'NL', 'Netherlands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(161, 'NO', 'Norway', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(162, 'NP', 'Nepal', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(163, 'NR', 'Nauru', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(164, 'NU', 'Niue', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(165, 'NZ', 'New Zealand', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(166, 'OM', 'Oman', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(167, 'PA', 'Panama', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(168, 'PE', 'Peru', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(169, 'PF', 'French Polynesia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(170, 'PG', 'Papua New Guinea', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(171, 'PH', 'Philippines', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(172, 'PK', 'Pakistan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(173, 'PL', 'Poland', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(174, 'PM', 'Saint Pierre And Miquelon', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(175, 'PN', 'Pitcairn', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(176, 'PR', 'Puerto Rico', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(177, 'PS', 'Palestinian Territory, Occupie', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(178, 'PT', 'Portugal', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(179, 'PW', 'Palau', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(180, 'PY', 'Paraguay', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(181, 'QA', 'Qatar', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(182, 'RE', 'Rẫunion', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(183, 'RO', 'Romania', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(184, 'RU', 'Russian Federation', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(185, 'RW', 'Rwanda', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(186, 'SA', 'Saudi Arabia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(187, 'SB', 'Solomon Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(188, 'SC', 'Seychelles', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(189, 'SD', 'Sudan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(190, 'SE', 'Sweden', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(191, 'SG', 'Singapore', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(192, 'SH', 'Saint Helena', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(193, 'SI', 'Slovenia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(194, 'SJ', 'Svalbard And Jan Mayen', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(195, 'SK', 'Slovakia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(196, 'SL', 'Sierra Leone', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(197, 'SM', 'San Marino', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(198, 'SN', 'Senegal', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(199, 'SO', 'Somalia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(200, 'SR', 'Suriname', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(201, 'ST', 'Sao Tome And Principe', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(202, 'SV', 'El Salvador', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(203, 'SY', 'Syrian Arab Republic', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(204, 'SZ', 'Swaziland', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(205, 'TC', 'Turks And Caicos Islands', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(206, 'TD', 'Chad', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(207, 'TF', 'French Southern Territories', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(208, 'TG', 'Togo', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(209, 'TH', 'Thailand', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(210, 'TJ', 'Tajikistan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(211, 'TK', 'Tokelau', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(212, 'TL', 'Timor-leste', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(213, 'TM', 'Turkmenistan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(214, 'TN', 'Tunisia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(215, 'TO', 'Tonga', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(216, 'TR', 'Turkey', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(217, 'TT', 'Trinidad And Tobago', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(218, 'TV', 'Tuvalu', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(219, 'TW', 'Taiwan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(220, 'TZ', 'Tanzania, United Republic Of', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(221, 'UA', 'Ukraine', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(222, 'UG', 'Uganda', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(223, 'UM', 'United States Minor Outlying I', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(224, 'US', 'United States', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(225, 'UY', 'Uruguay', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(226, 'UZ', 'Uzbekistan', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(227, 'VA', 'Holy See (vatican City State)', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(228, 'VC', 'Saint Vincent And The Grenadin', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(229, 'VE', 'Venezuela', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(230, 'VG', 'Virgin Islands, British', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(231, 'VH', 'Vatican City State See Holy Se', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(232, 'VI', 'Virgin Islands, U.s.', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(233, 'AD', 'Andorra', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(234, 'VU', 'Vanuatu', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(235, 'WF', 'Wallis And Futuna', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(236, 'WS', 'Samoa', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(237, 'YE', 'Yemen', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(238, 'YT', 'Mayotte', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(239, 'ZA', 'South Africa', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(240, 'ZM', 'Zambia', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL),
(241, 'ZW', 'Zimbabwe', NULL, NULL, '2020-12-18 07:18:58', NULL, NULL);

-- 
-- Dumping data for table Ethnic
--
INSERT INTO Ethnic VALUES
(1, '01', 'Kinh', '2016-07-09', NULL),
(2, '02', 'Tày', '2016-07-09', NULL),
(3, '03', 'Thái', '2016-07-09', NULL),
(4, '04', 'Hoa', '2016-07-09', NULL),
(5, '05', 'Khơ-me', '2016-07-09', NULL),
(6, '06', 'Mường', '2016-07-09', NULL),
(7, '07', 'Nùng', '2016-07-09', NULL),
(8, '08', 'Hmông', '2016-07-09', NULL),
(9, '09', 'Dao', '2016-07-09', NULL),
(10, '10', 'Gia-rai', '2016-07-09', NULL),
(11, '11', 'Ngái', '2016-07-09', NULL),
(12, '12', 'Ê-đê', '2016-07-09', NULL),
(13, '13', 'Ba-na', '2016-07-09', NULL),
(14, '14', 'Xơ-đăng', '2016-07-09', NULL),
(15, '15', 'Sán Chay', '2016-07-09', NULL),
(16, '16', 'Cơ-ho', '2016-07-09', NULL),
(17, '17', 'Chăm', '2016-07-09', NULL),
(18, '18', 'Sán Dìu', '2016-07-09', NULL),
(19, '19', 'Hrê', '2016-07-09', NULL),
(20, '20', 'Mnông', '2016-07-09', NULL),
(21, '21', 'Ra-glai', '2016-07-09', NULL),
(22, '22', 'Xtiêng', '2016-07-09', NULL),
(23, '23', 'Bru-Vân Kiều', '2016-07-09', NULL),
(24, '24', 'Thổ', '2016-07-09', NULL),
(25, '25', 'Giáy', '2016-07-09', NULL),
(26, '26', 'Cơ-tu', '2016-07-09', NULL),
(27, '27', 'Gié-Triêng', '2016-07-09', NULL),
(28, '28', 'Mạ', '2016-07-09', NULL),
(29, '29', 'Khơ-mú', '2016-07-09', NULL),
(30, '30', 'Co', '2016-07-09', NULL),
(31, '31', 'Ta-ôi', '2016-07-09', NULL),
(32, '32', 'Chơ-ro', '2016-07-09', NULL),
(33, '33', 'Kháng', '2016-07-09', NULL),
(34, '34', 'Xinh-mun', '2016-07-09', NULL),
(35, '35', 'Hà Nhì', '2016-07-09', NULL),
(36, '36', 'Chu-ru', '2016-07-09', NULL),
(37, '37', 'Lào', '2016-07-09', NULL),
(38, '38', 'La Chi', '2016-07-09', NULL),
(39, '39', 'La Ha', '2016-07-09', NULL),
(40, '40', 'Phù Lá', '2016-07-09', NULL),
(41, '41', 'La Hủ', '2016-07-09', NULL),
(42, '42', 'Lự', '2016-07-09', NULL),
(43, '43', 'Lô Lô', '2016-07-09', NULL),
(44, '44', 'Chứt', '2016-07-09', NULL),
(45, '45', 'Mảng', '2016-07-09', NULL),
(46, '46', 'Pà Thẻn', '2016-07-09', NULL),
(47, '47', 'Cơ Lao', '2016-07-09', NULL),
(48, '48', 'Cống', '2016-07-09', NULL),
(49, '49', 'Bố Y', '2016-07-09', NULL),
(50, '50', 'Si La', '2016-07-09', NULL),
(51, '51', 'Pu Péo', '2016-07-09', NULL),
(52, '52', 'Brâu', '2016-07-09', NULL),
(53, '53', 'Ơ Đu', '2016-07-09', NULL),
(54, '54', 'Rơ-măm', '2016-07-09', NULL),
(55, '55', 'Ca dong', '2016-07-09', NULL);

-- 
-- Dumping data for table Department
--
INSERT INTO Department VALUES
('166d7560-0f85-4bef-8981-c9f3c682c941', 'PB002', 'Phòng đào tạo', '166d7560-0f85-4bef-8981-c9f3c682c947', NULL, NULL, NULL, NULL, NULL),
('166d7560-0f85-4bef-8981-c9f3c682c949', 'PB001', 'Phòng nghiên cứu', '166d7560-0f85-4bef-8981-c9f3c682c947', NULL, NULL, NULL, NULL, NULL);

-- 
-- Dumping data for table ImportWorksheet
--
INSERT INTO ImportWorksheet VALUES
('9b99520c-b117-11ea-a51e-005056ac74f5', 'Danh sách Nhân viên', '521763b5-b117-11ea-a51e-005056ac74f5', 1, 3, NULL, 1, 'Employee', True),
('a5ae981a-b117-11ea-a51e-005056ac74f5', 'Danh sách các thành viên khác trong GĐ\t', '521763b5-b117-11ea-a51e-005056ac74f5', 1, 3, NULL, 2, 'EmployeeFamily', True);

-- 
-- Dumping data for table Relation
--
INSERT INTO Relation VALUES
(1, '00', 'Chủ hộ', 1),
(2, '01', 'Vợ', 2),
(3, '02', 'Chồng', 3),
(4, '03', 'Bố', 4),
(5, '04', 'Mẹ', 5),
(6, '05', 'Em', 6),
(7, '06', 'Anh', 7),
(8, '07', 'Chị', 8),
(9, '08', 'Con', 9),
(10, '09', 'Cháu', 10),
(11, '10', 'Ông', 11),
(12, '11', 'Bà', 12),
(13, '12', 'Cô', 13),
(14, '13', 'Dì', 14),
(15, '14', 'Chú', 15),
(16, '15', 'Thím', 16),
(17, '16', 'Bác', 17),
(18, '17', 'Cậu', 18),
(19, '18', 'Mợ', 19),
(20, '19', 'Con dâu', 20),
(21, '20', 'Con rể', 21),
(22, '21', 'Chắt', 22),
(23, '99', 'Khác', 23);

-- 
-- Dumping data for table Employee
--
-- Table `MISA.CRM.DEBUG`.Employee does not contain any data (it is empty)

-- 
-- Dumping data for table Position
--
-- Table `MISA.CRM.DEBUG`.Position does not contain any data (it is empty)

-- 
-- Dumping data for table ImportColumn
--
INSERT INTO ImportColumn VALUES
('77850fad-d6ea-11ea-b3e1-005056ac74f5', 'STT', NULL, True, 1, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'Sort'),
('7785103f-d6ea-11ea-b3e1-005056ac74f5', 'Họ tên', NULL, True, 3, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'FullName'),
('778510ba-d6ea-11ea-b3e1-005056ac74f5', 'Số CMTND/ Hộ chiếu', NULL, True, 6, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'IdentityNo'),
('77852631-d6ea-11ea-b3e1-005056ac74f5', 'Mã nhân viên', NULL, True, 2, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'EmployeeCode'),
('778526b5-d6ea-11ea-b3e1-005056ac74f5', 'Vị trí/ Chức vụ', 4, False, 4, '9b99520c-b117-11ea-a51e-005056ac74f5', 'Position', 'PositionId\r\n'),
('77852724-d6ea-11ea-b3e1-005056ac74f5', 'Bộ phận/ Phòng ban', 4, True, 5, '9b99520c-b117-11ea-a51e-005056ac74f5', 'Department', 'DepartmentId'),
('77854fdf-d6ea-11ea-b3e1-005056ac74f5', 'Nơi cấp', 0, False, 7, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'IdentityPlace'),
('77855076-d6ea-11ea-b3e1-005056ac74f5', 'Ngày cấp(ngày/tháng/năm)', NULL, False, 8, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'IdentityDate'),
('77855110-d6ea-11ea-b3e1-005056ac74f5', 'Ngày sinh', NULL, False, 9, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'DateOfBirth'),
('778551ab-d6ea-11ea-b3e1-005056ac74f5', 'Giới tính', 3, False, 10, '9b99520c-b117-11ea-a51e-005056ac74f5', 'Gender', 'Gender'),
('77855238-d6ea-11ea-b3e1-005056ac74f5', 'Quốc tịch', 4, False, 11, '9b99520c-b117-11ea-a51e-005056ac74f5', 'Nationality', 'NationalityID'),
('778555ad-d6ea-11ea-b3e1-005056ac74f5', 'Dân tộc', 4, False, 12, '9b99520c-b117-11ea-a51e-005056ac74f5', 'Ethnic', 'EthnicID'),
('7785570d-d6ea-11ea-b3e1-005056ac74f5', 'Số điện thoại', NULL, True, 13, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'PhoneNumber'),
('77855782-d6ea-11ea-b3e1-005056ac74f5', 'Email', NULL, False, 14, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'Email'),
('77855936-d6ea-11ea-b3e1-005056ac74f5', 'Số hợp đồng lao động', NULL, False, 16, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'ContractNo'),
('778559ce-d6ea-11ea-b3e1-005056ac74f5', 'Loại hợp đồng lao động', 3, False, 17, '9b99520c-b117-11ea-a51e-005056ac74f5', 'ContractType', 'ContractType'),
('77855b0c-d6ea-11ea-b3e1-005056ac74f5', 'Mức lương cơ bản', NULL, False, 20, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'Salary'),
('77885bcf-d6ea-11ea-b3e1-005056ac74f5', 'Nơi ở hiện tại', NULL, False, 21, '9b99520c-b117-11ea-a51e-005056ac74f5', '', 'Address'),
('77885c44-d6ea-11ea-b3e1-005056ac74f5', 'STT LĐ tại danh sách nhân viên', NULL, False, 1, 'a5ae981a-b117-11ea-a51e-005056ac74f5', '', 'Sort'),
('77885cb6-d6ea-11ea-b3e1-005056ac74f5', 'Họ tên', NULL, False, 2, 'a5ae981a-b117-11ea-a51e-005056ac74f5', '', 'FullName'),
('77885d24-d6ea-11ea-b3e1-005056ac74f5', 'Mối quan hệ với nhân viên', 4, False, 4, 'a5ae981a-b117-11ea-a51e-005056ac74f5', 'Relation', 'RelationID'),
('77885e02-d6ea-11ea-b3e1-005056ac74f5', 'CMTND/ Hộ chiếu/ Thẻ căn cước', NULL, False, 5, 'a5ae981a-b117-11ea-a51e-005056ac74f5', '', 'IdentityNo'),
('77885ee5-d6ea-11ea-b3e1-005056ac74f5', 'Ngày sinh', NULL, False, 7, 'a5ae981a-b117-11ea-a51e-005056ac74f5', '', 'DateOfBirth'),
('77885f56-d6ea-11ea-b3e1-005056ac74f5', 'Giới tính', 3, False, 8, 'a5ae981a-b117-11ea-a51e-005056ac74f5', 'Gender', 'Gender'),
('77885fc6-d6ea-11ea-b3e1-005056ac74f5', 'Quốc tịch', 4, False, 9, 'a5ae981a-b117-11ea-a51e-005056ac74f5', 'Nationality', 'NationalityID'),
('77886036-d6ea-11ea-b3e1-005056ac74f5', 'Dân tộc', 4, False, 10, 'a5ae981a-b117-11ea-a51e-005056ac74f5', 'Ethnic', 'EthnicID'),
('778860af-d6ea-11ea-b3e1-005056ac74f5', 'Nơi ở hiện tại', NULL, False, 11, 'a5ae981a-b117-11ea-a51e-005056ac74f5', '', 'Address'),
('c41feef1-40e0-11eb-b300-42010a8c0003', 'Số điện thoại', NULL, False, 3, 'a5ae981a-b117-11ea-a51e-005056ac74f5', NULL, 'PhoneNumber'),
('d6f8e07b-40df-11eb-b300-42010a8c0003', 'Định dạng ngày sinh', 3, False, 6, 'a5ae981a-b117-11ea-a51e-005056ac74f5', 'DateDisplaySetting', 'DOBDisplaySetting');

-- 
-- Dumping data for table EmployeeFamily
--
-- Table `MISA.CRM.DEBUG`.EmployeeFamily does not contain any data (it is empty)

--
-- Set default database
--
USE `MISA.CRM.DEBUG`;

--
-- Drop trigger `trgBeforeImportImportWorksheet`
--
DROP TRIGGER IF EXISTS trgBeforeImportImportWorksheet;

--
-- Drop trigger `trgBeforeInsertEmployee`
--
DROP TRIGGER IF EXISTS trgBeforeInsertEmployee;

--
-- Drop trigger `trgBeforeInsertFileImportTemplate`
--
DROP TRIGGER IF EXISTS trgBeforeInsertFileImportTemplate;

--
-- Drop trigger `trgBeforeInsertImportColumn`
--
DROP TRIGGER IF EXISTS trgBeforeInsertImportColumn;

--
-- Set default database
--
USE `MISA.CRM.DEBUG`;

DELIMITER $$

--
-- Create trigger `trgBeforeInsertImportColumn`
--
CREATE
DEFINER = 'nvmanh'@'%'
TRIGGER trgBeforeInsertImportColumn
BEFORE INSERT
ON ImportColumn
FOR EACH ROW
BEGIN
  IF NEW.ImportColumnID IS NULL
    OR NEW.ImportColumnID = "" THEN                        -- and here
    SET NEW.ImportColumnID = UUID();
  END IF;
END
$$

--
-- Create trigger `trgBeforeInsertFileImportTemplate`
--
CREATE
DEFINER = 'nvmanh'@'%'
TRIGGER trgBeforeInsertFileImportTemplate
BEFORE INSERT
ON ImportFileTemplate
FOR EACH ROW
BEGIN
  IF NEW.ImportFileTemplateID IS NULL
    OR NEW.ImportFileTemplateID = "" THEN                        -- and here
    SET NEW.ImportFileTemplateID = UUID();
  END IF;
END
$$

--
-- Create trigger `trgBeforeInsertEmployee`
--
CREATE
DEFINER = 'nvmanh'@'%'
TRIGGER trgBeforeInsertEmployee
BEFORE INSERT
ON Employee
FOR EACH ROW
BEGIN
  IF NEW.EmployeeId IS NULL
    OR NEW.EmployeeId = ""
    OR NEW.EmployeeId = "00000000-0000-0000-0000-000000000000" THEN                        -- and here
    SET NEW.EmployeeId = UUID();
  END IF;
END
$$

--
-- Create trigger `trgBeforeImportImportWorksheet`
--
CREATE
DEFINER = 'nvmanh'@'%'
TRIGGER trgBeforeImportImportWorksheet
BEFORE INSERT
ON ImportWorksheet
FOR EACH ROW
BEGIN
  IF NEW.ImportWorksheetID IS NULL
    OR NEW.ImportWorksheetID = "" THEN                        -- and here
    SET NEW.ImportWorksheetID = UUID();
  END IF;
END
$$

DELIMITER ;

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;